## Общая информация

**subscribe_to_channels** — асинхронная функция для подписки на каналы, извлеченные из базы данных. Функция также обновляет информацию о канале, проверяет наличие дубликатов подписок и обрабатывает ошибки, связанные с подпиской на каналы.

## Что принимает?

- **telegram_clients** (dict): Словарь клиентов Telegram, использующихся для подписки на каналы.

## Логика работы

1. Извлекаются каналы с непрочитанными сообщениями из базы данных.
2. Для каждого канала:
    - Получается объект канала через **get_entity**.
    - Если канал не является трансляцией, он удаляется из базы данных.
    - Выполняется проверка на подписку пользователя на канал через **GetParticipantRequest**.
3. Если канал найден:
    - Проверяется наличие дубликатов подписок для пользователя.
    - При необходимости происходит обновление информации о канале (например, **worker_id**, **channel_id**).
    - Происходит подписка на канал через **JoinChannelRequest**.
4. Обновляется настройка уведомлений канала через **UpdateNotifySettingsRequest**.
5. При ошибке подписки или обновления, канал удаляется из базы данных.
6. Обрабатываются ошибки подписки (например, превышение лимита каналов для рабочего аккаунта, ошибка при получении данных канала).
7. Происходит случайная задержка между подписками, чтобы избежать блокировки.