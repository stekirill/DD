## Общая информация

**get_shortened_text** — асинхронная функция для сокращения текста и определения его тематики с помощью ChatGPT. Также проверяет наличие рекламы.

## Что принимает?

- **text** (str): Текст для сокращения и анализа.
- **users_id** (str, optional): Идентификатор пользователя для вычисления токенов.

## Логика работы

1. Если длина текста ≤ 150 символов, возвращается оригинальный текст и 0.
2. Иначе, вызывается ChatGPT для сокращения текста до 1-2 предложений и определения тематики (реклама или одна из предустановленных тем).
3. Возвращаются:
    - Сокращенный текст.
    - Тематика (например, "реклама").
    - Длина сокращения.
4. При ошибке возвращается оригинальный текст, пустая тематика и 0.