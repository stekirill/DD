## Общая информация

**monitor_channels** — асинхронная функция, которая настраивает обработчик событий для прослушивания новых сообщений в Telegram через клиента Telethon. При получении нового сообщения вызывается функция **handle_new_post**.

## Что принимает?

- **w_id** (int): Идентификатор рабочей сессии, используемый для логирования и обработки ошибок.
- **tg_client** (TelegramClient): Объект клиента Telethon, который используется для взаимодействия с Telegram API.

## Логика работы

1. Настраивает обработчик события для нового сообщения (`NewMessage`) с использованием декоратора **@tg_client.on(events.NewMessage)**.
2. При возникновении нового сообщения вызывает функцию **handle_new_post**, передавая ей **w_id**, **tg_client** и объект события.
3. После настройки обработчика функция продолжает работать, ожидая новых сообщений, пока не будет разорвано соединение с сервером (через вызов **tg_client.run_until_disconnected()**).
4. В случае возникновения исключения логируется ошибка и отправляется уведомление администратору с подробностями о проблеме.